<!-- //////////////////////////////////////////
		fill every "here" sign using jinja2 template
		/////////////////////////////////////////// -->

{%- extends "main.html" -%}
{%- block body %}
<script>
$(function() {

	var members = [
		{% for member in memberRecords %}
			{ value: "{{ member.memberId }}" },
		{% endfor %}
		{ value: ""}
	];
	$("#search-members").autocomplete({
		lookup: members,
		onSelect: function(suggestion){
    }
	});
});
</script>

<div class="container">
	<h2>Rank</h2>
	<table class="table">
		<thead>
			<tr>
				<td>Ranking</td>
				<td>User Id</td>
				<td>Comment</td>
				<td><a href="{{ url_for('GradeServer.rank', sortCondition ='problem', pageNum =1) }}">Solved Problem</a></td>
				<td>Count</td>
				<td><a href="{{ url_for('GradeServer.rank', sortCondition ='rate', pageNum =1) }}">Rate</a></td>
			</tr>
		</thead>
		{%- for i in range (pages['startList'], pages['endList']) %}
		<tr>
			<td>{{ i +1 }}</td>
			<td><a href="{{ url_for('GradeServer.user_history', memberId =session['memberId'], sortCondition ='submittedDate', pageNum =1) }}">{{ rankMemberRecords[i].memberId }}</a></td>
			<td>{{ rankMemberRecords[i].comment }}</td>
			<td>{{ rankMemberRecords[i].solvedCount }}</td>
			<td>{{ rankMemberRecords[i].submissionCount }}</td>
			<td>{{ rankMemberRecords[i].solvedRate }}%</td>
		</tr>
		{% endfor -%}
	</table>
	<!-- page number section -->
	<div class="pagination pagination-centered">
		<ul>
			{%- if pages['pageNum'] > pages['BLOCK'] %}
			<li><a href="{{ url_for ('GradeServer.rank', pageNum =pages['startPage'] -1) }}">Prev</a></li>
			{% endif -%}
			
			{%- for i in range (pages['startPage'], pages['endPage'] +1) %}
			<li><a href="{{ url_for ('GradeServer.rank', pageNum =i) }}">{{ i }}</a></li>
			{% endfor -%}
			
			{%- if pages['endPage'] < pages ['allPage'] %}
			<li><a href="{{ url_for ('GradeServer.rank', pageNum =pages['endPage'] +1) }}">Next</a></li>
			{% endif -%}
		</ul>
	</div>
	<!-- end page number section -->
	
	<!-- Find Member Id -->
	<form method="post">
		<!-- SearchBar // all -->
		<div id="all" class="tab-pane active" style="text-align: center">
			<div class="input-append" style="margin-bottom: 0px">
				<input class ="span3" id ="search-members" name ="memberId" type="text" placeholder="Member Id">
				<button name="findMemberId" class="btn" type="submit">Find</button>
			</div>
		</div>
	</form>
</div>
{% endblock -%}