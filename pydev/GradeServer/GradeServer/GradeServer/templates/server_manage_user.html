<!-- //////////////////////////////////////////
		fill every "here" sign using jinja2 template
		/////////////////////////////////////////// -->
		
{%- extends "main.html" -%}
{%- block body %}
<div class="container">
	<div>
		<h3>
			{%- if session['language'] %}	{{ LanguageResources.const.User[session['language']] }}
			{%- else %}{{ LanguageResources.const.User[0] }}<!-- default -->
			{% endif -%}
			&nbsp;
			{%- if session['language'] %}	{{ LanguageResources.const.Management[session['language']] }}
			{%- else %}{{ LanguageResources.const.Management[0] }}<!-- default -->
			{% endif -%}
		</h3>
		<!-- if any button is checked, then showing modal pop -->
		<div style="text-align:right">
			<a href="{{ url_for('GradeServer.server_add_user') }}" class="btn">
				{%- if session['language'] %}	{{ LanguageResources.const.Addition[session['language']] }}
				{%- else %}{{ LanguageResources.const.Addition[0] }}<!-- default -->
				{% endif -%}
			</a>
			<a class="btn" data-toggle="modal" role="button" onclick="showingDeleteModal()">
				{%- if session['language'] %}	{{ LanguageResources.const.Deletion[session['language']] }}
				{%- else %}{{ LanguageResources.const.Deletion[0] }}<!-- default -->
				{% endif -%}
			</a>
		</div>

		<!-- hidden modal pop -->
		<!-- if any item choosed -->
		<div class="modal hide fade" id="deleteModal"
			  aria-labelledby="deleteModalLabel" aria-hidden="true"
			  role="dialog" tabindex="-1">
			<div class="modal-header">
				<button class="close" data-dismiss="modal"
						  type="button" aria-hidden="true">x</button>
				<h3 id="deleteModalLabel">
					{%- if session['language'] %}	{{ LanguageResources.const.User[session['language']] }}
					{%- else %}{{ LanguageResources.const.User[0] }}<!-- default -->
					{% endif -%}
					&nbsp;
					{%- if session['language'] %}	{{ LanguageResources.const.Deletion[session['language']] }}
					{%- else %}{{ LanguageResources.const.Deletion[0] }}<!-- default -->
					{% endif -%}
				</h3>
			</div>
			<div class="modal-body">
				<p>Do you really want to delete it?</p>
			</div>
			<div class="modal-footer">
				<form id="deleteConfirm" method="post">
					<button class="btn" data-dismiss="modal" aria-hidden="true">
						{%- if session['language'] %}	{{ LanguageResources.const.Close[session['language']] }}
						{%- else %}{{ LanguageResources.const.Close[0] }}<!-- default -->
						{% endif -%}
					</button>
					<button class="btn btn-primary" type="submit">
						{%- if session['language'] %}	{{ LanguageResources.const.Confirm[session['language']] }}
						{%- else %}{{ LanguageResources.const.Confirm[0] }}<!-- default -->
						{% endif -%}
					</button>
			</div>
		</div>
		<!-- no items choosed -->
		<div class="modal hide fade" id="deleteNoItem"
			  aria-labelledby="deleteModalLabel" aria-hidden="true"
			  role="dialog" tabindex="-1">
			<div class="modal-header">
				<button class="close" data-dismiss="modal"
						  stype="button" aria-hidden="true">x</button>
				<h3 id="deleteModalLabel">
					{%- if session['language'] %}	{{ LanguageResources.const.User[session['language']] }}
					{%- else %}{{ LanguageResources.const.User[0] }}<!-- default -->
					{% endif -%}
					&nbsp;
					{%- if session['language'] %}	{{ LanguageResources.const.Deletion[session['language']] }}
					{%- else %}{{ LanguageResources.const.Deletion[0] }}<!-- default -->
					{% endif -%}
				</h3>
			</div>
			<div class="modal-body">
				<p>No items choiced</p>
			</div>
			<div class="modal-footer">
				<button class="btn" data-dismiss="modal" aria-hidden="true">
					{%- if session['language'] %}	{{ LanguageResources.const.Close[session['language']] }}
					{%- else %}{{ LanguageResources.const.Close[0] }}<!-- default -->
					{% endif -%}
				</button>
			</div>
		</div>
		<!-- end hidden modal pop -->

		<table class="table table-bordered" id="registeredUsers" style="margin-top:10px">
			<thead>
				<tr>
					<td>Index
					<td>
						{%- if session['language'] %}	{{ LanguageResources.const.ID[session['language']] }}
						{%- else %}{{ LanguageResources.const.ID[0] }}<!-- default -->
						{% endif -%}
					<td>
						{%- if session['language'] %}	{{ LanguageResources.const.College[session['language']] }}
						{%- else %}{{ LanguageResources.const.College[0] }}<!-- default -->
						{% endif -%}
						&
						{%- if session['language'] %}	{{ LanguageResources.const.Department[session['language']] }}
						{%- else %}{{ LanguageResources.const.Department[0] }}<!-- default -->
						{% endif -%}
					<td>
						{%- if session['language'] %}	{{ LanguageResources.const.Name[session['language']] }}
						{%- else %}{{ LanguageResources.const.Name[0] }}<!-- default -->
						{% endif -%}
					<!-- <td>Phone -->
					<td>
						{%- if session['language'] %}	{{ LanguageResources.const.Email[session['language']] }}
						{%- else %}{{ LanguageResources.const.Email[0] }}<!-- default -->
						{% endif -%}
					<td>
						<abbr title="SA: Server Administrator, CA: Course Administrator">
							{%- if session['language'] %}	{{ LanguageResources.const.Authority[session['language']] }}
							{%- else %}{{ LanguageResources.const.Authority[0] }}<!-- default -->
							{% endif -%}
						</abbr>
					<td>
						{%- if session['language'] %}	{{ LanguageResources.const.LastAccess[session['language']] }}
						{%- else %}{{ LanguageResources.const.LastAccess[0] }}<!-- default -->
						{% endif -%}
					<td>
						{%- if session['language'] %}	{{ LanguageResources.const.Check[session['language']] }}
						{%- else %}{{ LanguageResources.const.Check[0] }}<!-- default -->
						{% endif -%}
						&nbsp;
						<input class="checkAll" type="checkbox" style="margin:0px" onclick="selectAllCheckboxes('registeredUsers');">
			<tbody>
				<script> index = {{ index }}; </script>
				{%- for user in users %}
				<tr>
					<td><script> document.write(index--); </script>
					<td>{{ user[0] }} <!-- member ID -->
					<td> <!-- college & department information -->
						{%- for index in range(7, user|length) %}
							{{ user[index] }}
							{%- if index % 2 == 0 %}
							<br>
							{% endif -%}
						{% endfor -%}		
					
					<td>{{ user[1] }} <!-- member name -->
					<!-- <td>{{ user[2] }} --><!-- member contact number -->
					<td>{{ user[3] }} <!-- member email address -->
					<!-- Up to you. -->
					<!-- Now we set USER as Student, SERVER_ADMINISTRATOR as SA, COURSE_ADMINISTRATOR  as CA -->
					<!-- Because using meta values, not enough width -->
					<td><!-- member authority -->
						{%- for authority in user[4] %}
							{%- if authority==SETResources.const.USER %}
								Student
							{% elif authority==SETResources.const.SERVER_ADMINISTRATOR %}
								SA
							{% elif authority==SETResources.const.COURSE_ADMINISTRATOR %}
								CA
							{% else %}
								Unknown
							{% endif -%}
						{% endfor -%}
					<td><!-- member last access date -->
						<script>
						var date = "{{ user[6] }}"; //  user[5] is signed in date.
						if(date != "None"){
							// slice from "YYYY-MM-DD hh:mm:ss" to "YY-MM-DD hh:mm"
							date = date.substr(2,14);
						}
						else{
							date = "Never";
						}
						document.write(date);
						</script>
					<td>
						<label class="checkbox-center">
							<input class="box-check" name="{{ user.memberId }}"
									type="checkbox" form="deleteConfirm">
						</label>
				{% endfor -%}
				</form>
		</table>
	</div>
</div>
{% endblock -%}
